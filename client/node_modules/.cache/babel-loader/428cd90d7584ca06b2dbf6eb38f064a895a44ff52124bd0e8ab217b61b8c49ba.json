{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ragunath\\\\Downloads\\\\react-mysql-nodejs-e-commerce-master\\\\react-mysql-nodejs-e-commerce-master\\\\client\\\\src\\\\page\\\\Payment.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState, useRef } from 'react';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport { DataContext } from '../context/DataContext';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Payment = () => {\n  _s();\n  const his = useHistory();\n  const datemail = localStorage.getItem('EcomEmail');\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(datemail);\n  const [phone, setPhone] = useState(\"\");\n  const [addr, setAddr] = useState(\"\");\n  const [yourAddress, setYourAddress] = useState([]);\n  const [inputAddres, setInputAddres] = useState(\"\");\n  const [showaddress, setShowaddress] = useState(false);\n  const [payment, setPayment] = useState(\"\");\n  const [UserId, setUserId] = useState(\"\");\n  const {\n    cart,\n    setCart\n  } = useContext(DataContext);\n  const [total, setTotal] = useState(\"\");\n  var tot = 0;\n  const timeout = useRef(null);\n  const checkAuth = () => {\n    axios.get(\"http://localhost:8000/isAuth\", {\n      headers: {\n        \"x-access-token\": localStorage.getItem(\"Ecomtoken\")\n      }\n    }).then(response => {\n      //  console.log()\n      if (!response.data.login) {\n        his.push(\"/\");\n      }\n    });\n  };\n  useEffect(() => {\n    timeout.current = setTimeout(checkAuth, 1000);\n    return function () {\n      if (timeout.current) {\n        clearTimeout(timeout.current);\n      }\n    };\n  }, []);\n  useEffect(() => {\n    //    console.log()\n    let totamo = 0;\n    for (let i = 0; i < cart.length; i++) {\n      totamo += cart[i].price * cart[i].qty;\n    }\n    totamo += 50;\n    setTotal(totamo);\n  }, []);\n  const getaddress = async () => {\n    const dat = localStorage.getItem('EcomUserId');\n    const res = await axios.get(`http://localhost:8000/getaddress/${dat}`);\n    //   \n    setYourAddress(res.data);\n  };\n  const onSub = e => {\n    e.preventDefault();\n    const dat = localStorage.getItem('EcomUserId');\n    const adddata = {\n      name: name,\n      email: email,\n      phone: phone,\n      address: addr,\n      userId: dat\n    };\n    const sendData = async () => {\n      const res = await axios.post(`http://localhost:8000/addaddress`, adddata);\n      // console.log(res)\n      setShowaddress(false);\n    };\n    sendData();\n    getaddress();\n    // console.log(data)\n  };\n  useEffect(() => {\n    getaddress();\n  }, []);\n  useEffect(() => {\n    getaddress();\n  }, [yourAddress]);\n  const OnBuyNow = async e => {\n    e.preventDefault();\n    //  console.log(inputAddres + payment)\n    const dat = localStorage.getItem('EcomUserId');\n    const datemail = localStorage.getItem('EcomEmail');\n    const datname = localStorage.getItem('EcomUser');\n    localStorage.setItem('Ecompaymentmode', payment);\n    const data = {\n      userid: dat,\n      totalprice: total,\n      // orderstatus:\"order Not Done\",\n      paymentmode: payment,\n      paymentemail: datemail,\n      name: datname,\n      cart: cart\n    };\n    // console.log(data)\n\n    const res = await axios.post(`http://localhost:8000/buynow`, data);\n    //   console.log(res.data.payment_request.longurl)\n\n    if (res.data.success) {\n      setCart([]);\n      localStorage.setItem('Ecomlongid', res.data.payment_request.id);\n      his.push(`/myaccount`);\n    } else {\n      console.log(\"order not placed\");\n    }\n    window.open(res.data.payment_request.longurl, '_self');\n    //   window.close('http://localhost:3000/payment')\n  };\n  useEffect(() => {\n    const dat = localStorage.getItem('EcomUserId');\n    setUserId(dat);\n  }, []);\n  if (!cart.length) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container p-5\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"There is No cart items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 13\n      }, this)\n    }, void 0, false);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"payment\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-responsive\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table table-bordered\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"#\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Product\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Price\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Qty\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Amount\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [cart.map((val, ind) => {\n                  tot = tot + val.price * val.qty;\n\n                  // tot >0 ? setTotal(tot) :null\n\n                  // console.log(tot)\n                  return /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: ind + 1\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 201,\n                        columnNumber: 41\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"tab-box\",\n                        children: /*#__PURE__*/_jsxDEV(NavLink, {\n                          to: `/details/${val.id}`,\n                          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                            src: `../img/${val.image}`,\n                            alt: `../img/${val.image}`,\n                            className: \"img-fluid t-img\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 206,\n                            columnNumber: 49\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: val.name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 207,\n                            columnNumber: 49\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 204,\n                          columnNumber: 45\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 202,\n                        columnNumber: 41\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: [val.price, \".00\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 210,\n                        columnNumber: 41\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: val.qty\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 211,\n                        columnNumber: 41\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: [val.price * val.qty, \".00\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 212,\n                        columnNumber: 41\n                      }, this)]\n                    }, ind, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 200,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false);\n                }), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pay p-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: [\"Sub Total : \", tot, \".00\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: \"Delivery Fees: 50.00\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: [\"Total Amount : \", tot + 50, \".00\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"address\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 col-12 mx-auto mb-3\",\n            children: showaddress && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card\",\n                children: /*#__PURE__*/_jsxDEV(\"form\", {\n                  onSubmit: onSub,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Name:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 245,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      class: \"form-control\",\n                      name: \"name\",\n                      placeholder: \"Enter name\",\n                      value: name,\n                      onChange: e => setName(e.target.value),\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 246,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Email:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 249,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      class: \"form-control\",\n                      name: \"email\",\n                      placeholder: \"Enter Email\",\n                      readOnly: true,\n                      value: email,\n                      onChange: e => setEmail(e.target.value),\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 250,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Phone:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"tel\",\n                      class: \"form-control\",\n                      name: \"phone\",\n                      placeholder: \"Enter Phone\",\n                      value: phone,\n                      onChange: e => setPhone(e.target.value),\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 254,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Full Address:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                      name: \"address\",\n                      id: \"\",\n                      class: \"form-control\",\n                      rows: \"3\",\n                      placeholder: \"Enter Full Address\",\n                      value: addr,\n                      onChange: e => setAddr(e.target.value),\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 260,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"text-center mb-5\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"submit\",\n                      class: \"btn btn-info pt-2 pb-2 pl-5 pr-5\",\n                      value: \"Add Address\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 266,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 37\n              }, this)\n            }, void 0, false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 col-12 mx-auto mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Add Recived Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 33\n              }, this), yourAddress.length ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(\"form\", {\n                  onSubmit: OnBuyNow,\n                  children: [yourAddress.map((val, ind) => {\n                    return /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"btn btn-info\",\n                        onClick: () => his.push(`/edit_address/${UserId}`),\n                        children: \"Edit Address\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 289,\n                        columnNumber: 48\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"form-check \",\n                        children: /*#__PURE__*/_jsxDEV(\"label\", {\n                          class: \"form-check-label p-1 mb-2\",\n                          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"radio\",\n                            class: \"form-check-input\",\n                            name: \"gender\",\n                            value: val.id,\n                            onChange: e => setInputAddres(e.target.value),\n                            required: true\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 292,\n                            columnNumber: 49\n                          }, this), val.name, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 293,\n                            columnNumber: 46\n                          }, this), \" \", val.email, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 293,\n                            columnNumber: 65\n                          }, this), \" \", val.phone, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 293,\n                            columnNumber: 84\n                          }, this), \" \", val.address]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 291,\n                          columnNumber: 32\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 290,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true);\n                  }), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"Choose payment option\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 28\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"form-check-inline\",\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      class: \"form-check-label\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"radio\",\n                        class: \"form-check-input\",\n                        name: \"payment\",\n                        value: \"online\",\n                        onChange: e => setPayment(e.target.value),\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 314,\n                        columnNumber: 36\n                      }, this), \"Online\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 313,\n                      columnNumber: 32\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 28\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"text-center m-3\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"submit\",\n                      class: \"btn btn-info pt-2 pb-2 pl-5 pr-5\",\n                      value: \"Buy Now\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 320,\n                      columnNumber: 32\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 28\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 42\n                }, this)\n              }, void 0, false) : /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-info\",\n                onClick: () => setShowaddress(true),\n                children: \"Add Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(Payment, \"IRaOjpQYvbngpjXPsw8Fb/jgMiI=\", false, function () {\n  return [useHistory];\n});\n_c = Payment;\nexport default Payment;\nvar _c;\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"names":["React","useContext","useEffect","useState","useRef","NavLink","useHistory","DataContext","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Payment","_s","his","datemail","localStorage","getItem","name","setName","email","setEmail","phone","setPhone","addr","setAddr","yourAddress","setYourAddress","inputAddres","setInputAddres","showaddress","setShowaddress","payment","setPayment","UserId","setUserId","cart","setCart","total","setTotal","tot","timeout","checkAuth","get","headers","then","response","data","login","push","current","setTimeout","clearTimeout","totamo","i","length","price","qty","getaddress","dat","res","onSub","e","preventDefault","adddata","address","userId","sendData","post","OnBuyNow","datname","setItem","userid","totalprice","paymentmode","paymentemail","success","payment_request","id","console","log","window","open","longurl","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","val","ind","to","src","image","alt","onSubmit","class","type","placeholder","value","onChange","target","required","readOnly","rows","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Ragunath/Downloads/react-mysql-nodejs-e-commerce-master/react-mysql-nodejs-e-commerce-master/client/src/page/Payment.jsx"],"sourcesContent":["import React, { useContext ,useEffect,useState,useRef} from 'react'\nimport { NavLink, useHistory } from 'react-router-dom'\nimport { DataContext } from '../context/DataContext'\nimport axios from 'axios'\nconst Payment = () => {\n    const his = useHistory()\n    const datemail=localStorage.getItem('EcomEmail')\n    const [name, setName] = useState(\"\")\n    const [email, setEmail] = useState(datemail)\n    const [phone, setPhone] = useState(\"\")\n    const [addr, setAddr] = useState(\"\")\n    const [yourAddress, setYourAddress] = useState([])\n    const [inputAddres, setInputAddres] = useState(\"\")\n    const [showaddress,setShowaddress]=useState(false)\n    const [payment, setPayment] = useState(\"\")\n   const [UserId,setUserId]= useState(\"\")\n\n    const {cart,setCart}=useContext(DataContext)\n    const [total, setTotal] = useState(\"\")\n    var tot=0;\n    \n\n\n    const timeout = useRef(null)\n   \n    const checkAuth=()=>{\n        axios.get(\"http://localhost:8000/isAuth\",{\n            headers:{\n             \"x-access-token\":localStorage.getItem(\"Ecomtoken\")\n            }\n        }).then((response)=>{\n         //  console.log()\n         if(!response.data.login)\n         {\n             his.push(\"/\");\n         }\n        })\n     \n     }\n    \n     useEffect(()=>{\n        timeout.current=setTimeout(checkAuth,1000)\n        return function(){\n            if(timeout.current)\n            {\n                clearTimeout(timeout.current)\n            }\n        }\n        \n    \n     },[])\n\n\nuseEffect(()=>{\n//    console.log()\n   let totamo=0;\n   for(let i=0;i<cart.length;i++)\n   {\n       totamo += cart[i].price*cart[i].qty;\n       \n   }\n   totamo +=50;\n   setTotal(totamo)\n},[])\n\n       \n\n\n   const getaddress=async ()=>{\n    const dat=localStorage.getItem('EcomUserId')\n   \n    \n       const res=await axios.get(`http://localhost:8000/getaddress/${dat}`)\n    //   \n       setYourAddress(res.data)\n\n    }\n\n    \nconst onSub=(e)=>{\ne.preventDefault()\nconst dat=localStorage.getItem('EcomUserId')\nconst adddata={\n    name:name,\n    email:email,\n    phone:phone,\n    address:addr,\n    userId:dat\n}\nconst sendData=async ()=>{\n    const res=await axios.post(`http://localhost:8000/addaddress`,adddata)\n    // console.log(res)\n    setShowaddress(false)\n\n}\nsendData()\ngetaddress()\n// console.log(data)\n}\n\nuseEffect(()=>{\n    getaddress()\n},[])\n\nuseEffect(()=>{\n    getaddress()\n},[yourAddress])\n\n\n\nconst OnBuyNow=async (e)=>{\ne.preventDefault()\n//  console.log(inputAddres + payment)\nconst dat=localStorage.getItem('EcomUserId')\nconst datemail=localStorage.getItem('EcomEmail')\nconst datname=localStorage.getItem('EcomUser')\nlocalStorage.setItem('Ecompaymentmode',payment)\n\n\nconst data={\n    userid:dat,\n    totalprice:total,\n    // orderstatus:\"order Not Done\",\n    paymentmode:payment,\n    paymentemail:datemail,\n    name:datname,\n    cart:cart\n}\n// console.log(data)\n \n  const res=await axios.post(`http://localhost:8000/buynow`,data)\n//   console.log(res.data.payment_request.longurl)\n\n  if(res.data.success)\n  {\n     setCart([])\n    localStorage.setItem('Ecomlongid',res.data.payment_request.id)\n   \n     his.push(`/myaccount`)\n  }else{\n      console.log(\"order not placed\")\n  }\n  window.open(res.data.payment_request.longurl,'_self')\n//   window.close('http://localhost:3000/payment')\n}\n\nuseEffect(()=>{\n    const dat=localStorage.getItem('EcomUserId')\n    setUserId(dat)\n},[])\n\n\n\n\n    if(!cart.length)\n    {\n        return (\n            <>\n            <div className=\"container p-5\">\n            <h2>There is No cart items</h2>\n            </div>\n\n            </>\n        )\n    }\n    \n    \n\n    \n    return (\n        <>\n            <div className=\"payment\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"table-responsive\">\n                            <table className=\"table table-bordered\">\n                                <thead>\n                                    <tr>\n                                        <th>#</th>\n                                        <th>Product</th>\n                                        <th>Price</th>\n                                        <th>Qty</th>\n                                        <th>Amount</th>\n\n\n\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {\n                                        \n                                        cart.map((val,ind)=>{\n                                            tot=tot+val.price*val.qty\n                                            \n                                                // tot >0 ? setTotal(tot) :null\n                                            \n                                            // console.log(tot)\n                                            return(\n                                                <>\n                                                <tr key={ind}>\n                                        <td>{ind+1}</td>\n                                        <td className=\"tab-box\">\n\n                                            <NavLink to={`/details/${val.id}`}>\n\n                                                <img src={`../img/${val.image}`} alt={`../img/${val.image}`} className=\"img-fluid t-img\" />\n                                                <p >{val.name}</p>\n                                            </NavLink>\n                                        </td>\n                                        <td>{val.price}.00</td>\n                                        <td>{val.qty}</td>\n                                        <td>{val.price*val.qty}.00</td>\n\n\n\n                                    </tr>\n                                                </>\n                                            )\n                                        })\n                                    }\n                                    <div className=\"pay p-3\">\n                                    <h2>Sub Total : {tot}.00</h2>\n                                    <h2>Delivery Fees: 50.00</h2>\n                                    <h2>Total Amount : {tot+50}.00</h2>\n                                  \n                                    </div>\n\n                                </tbody>\n                            </table>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n            <div className=\"address\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-md-6 col-12 mx-auto mb-3\">\n                            {\n                                showaddress && (\n                                    <>\n                                    <div className=\"card\">\n                                <form onSubmit={onSub}>\n                                    <div class=\"form-group\">\n                                        <label >Name:</label>\n                                        <input type=\"text\" class=\"form-control\" name='name' placeholder=\"Enter name\" value={name}  onChange={(e)=>setName(e.target.value)} required />\n                                    </div>\n                                    <div class=\"form-group\">\n                                        <label >Email:</label>\n                                        <input type=\"text\" class=\"form-control\" name='email' placeholder=\"Enter Email\" readOnly value={email}  onChange={(e)=>setEmail(e.target.value)} required />\n                                    </div>\n                                    <div class=\"form-group\">\n                                        <label >Phone:</label>\n                                        <input type=\"tel\" class=\"form-control\" name='phone' placeholder=\"Enter Phone\" value={phone}  onChange={(e)=>setPhone(e.target.value)} required />\n                                    </div>\n\n                                    <div class=\"form-group\">\n                                        <label >Full Address:</label>\n\n                                        <textarea name=\"address\" id=\"\" class=\"form-control\" rows=\"3\" placeholder=\"Enter Full Address\" value={addr}  onChange={(e)=>setAddr(e.target.value)} required></textarea>\n                                    </div>\n\n\n\n                                    <div class=\"text-center mb-5\">\n                                        <input type=\"submit\" class=\"btn btn-info pt-2 pb-2 pl-5 pr-5\" value=\"Add Address\" />\n                                    </div>\n                                </form>\n                            </div>\n\n                                    </>\n                                )\n                            }\n                            \n                        </div>\n                        <div className=\"col-md-6 col-12 mx-auto mb-3\">\n                            <div className=\"card\">\n                                <h3>Add Recived Address</h3>\n                                <br />\n                                {\n                                    yourAddress.length ? (\n                                        <>\n                                         <form onSubmit={OnBuyNow}>\n                                   \n                                   {\n                                       yourAddress.map((val,ind)=>{\n                                           return(\n                                               <>\n                                               <button type=\"button\" className=\"btn btn-info\" onClick={()=>his.push(`/edit_address/${UserId}`)}>Edit Address</button>\n                                                <div class=\"form-check \">\n                               <label class=\"form-check-label p-1 mb-2\">\n                                                <input type=\"radio\" class=\"form-check-input\" name=\"gender\" value={val.id} onChange={(e)=>setInputAddres(e.target.value)} required />\n                                   {val.name}<br /> {val.email} <br /> {val.phone} <br /> {val.address}\n                                   </label>\n                           </div>\n                                               </>\n                                           )\n                                       })\n                                   }\n                                  \n\n\n                              \n\n                           <h4>Choose payment option</h4>\n                          \n                           {/* <div class=\"form-check-inline\">\n                               <label class=\"form-check-label\">\n                                   <input type=\"radio\" class=\"form-check-input\" name=\"payment\" value=\"cod\" onChange={(e)=>setPayment(e.target.value)}  required/>Cod\n                               </label>\n                           </div> */}\n                           <div class=\"form-check-inline\">\n                               <label class=\"form-check-label\">\n                                   <input type=\"radio\" class=\"form-check-input\" name=\"payment\" value=\"online\" onChange={(e)=>setPayment(e.target.value)} required />Online\n                               </label>\n                           </div>\n\n\n                           <div class=\"text-center m-3\">\n                               <input type=\"submit\" class=\"btn btn-info pt-2 pb-2 pl-5 pr-5\" value=\"Buy Now\" />\n                           </div>\n\n\n\n\n                       </form>\n\n                                        </>\n                                    ):\n                                    <button className=\"btn btn-info\" onClick={()=>setShowaddress(true)}>Add Address</button>\n                                }\n                               \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </>\n    )\n}\n\nexport default Payment\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
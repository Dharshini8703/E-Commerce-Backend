{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ragunath\\\\Downloads\\\\react-mysql-nodejs-e-commerce-master\\\\react-mysql-nodejs-e-commerce-master\\\\client\\\\src\\\\page\\\\Products.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport axios from 'axios';\nimport CardProducts from '../component/CardProducts';\n// import { DataContext } from '../context/DataContext'\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Products = () => {\n  _s();\n  const [getdata, setGetdata] = useState([]);\n  const timeout = useRef(null);\n  const his = useHistory();\n  const checkAuth = () => {\n    axios.get(\"http://localhost:8000/isAuth\", {\n      headers: {\n        \"x-access-token\": localStorage.getItem(\"Ecomtoken\")\n      }\n    }).then(response => {\n      //  console.log()\n      if (!response.data.login) {\n        his.push(\"/\");\n      }\n    });\n  };\n  useEffect(() => {\n    timeout.current = setTimeout(checkAuth, 1000);\n    return function () {\n      if (timeout.current) {\n        clearTimeout(timeout.current);\n      }\n    };\n  }, []);\n  const getData = async () => {\n    const res = await axios.get('http://localhost:8000/getdataall');\n    setGetdata(res.data);\n  };\n  useEffect(() => {\n    getData();\n  }, []);\n  const sortData = async sort => {\n    const res = await axios.get(`http://localhost:8000/sort/${sort}`);\n    setGetdata(res.data);\n  };\n  const sortHandel = e => {\n    const sort = e.target.value;\n    if (sort === 'all') {\n      getData();\n    } else {\n      sortData(sort);\n    }\n  };\n  if (!getdata.length) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading..\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center font-weight-bold mb-5\",\n          children: \"Best Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inp \",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control\",\n              id: \"\",\n              onChange: sortHandel,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"All\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"200\",\n                children: \"less then 200\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"200_500\",\n                children: \"200-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"500_1000\",\n                children: \"500-1000\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: getdata.map((val, ind) => {\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(CardProducts, {\n                id: val.id,\n                name: val.name,\n                price: val.price,\n                plant_image: val.plant_image\n              }, ind, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 29\n              }, this)\n            }, void 0, false);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 10\n    }, this)\n  }, void 0, false);\n};\n_s(Products, \"7eC1ib51yNhgDULbib9sYodLKjo=\", false, function () {\n  return [useHistory];\n});\n_c = Products;\nexport default Products;\nvar _c;\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["React","useEffect","useState","useRef","axios","CardProducts","useHistory","jsxDEV","_jsxDEV","Fragment","_Fragment","Products","_s","getdata","setGetdata","timeout","his","checkAuth","get","headers","localStorage","getItem","then","response","data","login","push","current","setTimeout","clearTimeout","getData","res","sortData","sort","sortHandel","e","target","value","length","children","fileName","_jsxFileName","lineNumber","columnNumber","className","id","onChange","map","val","ind","name","price","plant_image","_c","$RefreshReg$"],"sources":["C:/Users/Ragunath/Downloads/react-mysql-nodejs-e-commerce-master/react-mysql-nodejs-e-commerce-master/client/src/page/Products.jsx"],"sourcesContent":["import React,{useEffect,useState,useRef} from 'react'\nimport axios from 'axios'\nimport CardProducts from '../component/CardProducts'\n// import { DataContext } from '../context/DataContext'\nimport { useHistory } from 'react-router-dom'\nconst Products = () => {\n    const [getdata, setGetdata] = useState([])\n\n    const timeout = useRef(null)\n    const his= useHistory()\n    const checkAuth=()=>{\n        axios.get(\"http://localhost:8000/isAuth\",{\n            headers:{\n             \"x-access-token\":localStorage.getItem(\"Ecomtoken\")\n            }\n        }).then((response)=>{\n         //  console.log()\n         if(!response.data.login)\n         {\n             his.push(\"/\");\n         }\n        })\n     \n     }\n \n     useEffect(()=>{\n        timeout.current=setTimeout(checkAuth,1000)\n        return function(){\n            if(timeout.current)\n            {\n                clearTimeout(timeout.current)\n            }\n        }\n        \n \n     },[])\n\n    \n    const getData= async ()=>{\n\n        const res=await axios.get('http://localhost:8000/getdataall')\n        setGetdata(res.data)\n    }\n    useEffect(() => {\n       getData()\n    }, [])\n\n    const sortData= async (sort)=>{\n            const res=await axios.get(`http://localhost:8000/sort/${sort}`)\n            setGetdata(res.data)\n    }\n    const sortHandel=(e)=>{\n        const sort=e.target.value\n        if(sort==='all')\n        {\n           getData()\n        }\n        else {\n            sortData(sort)\n        }\n\n       }\n\n    if(!getdata.length)\n   {\n       return <h1>Loading..</h1>\n   }\n\n    return (\n        <>\n         <div className=\"products\">\n            <div className=\"container\">\n                <h2 className=\"text-center font-weight-bold mb-5\">Best Products</h2>\n              <div className=\"inp \">\n                    <p></p>\n                <div className=\"form-group\">\n                   \n                    <select className=\"form-control\" id=\"\" onChange={sortHandel}>\n                        {/* <option value=\"\" selected disabled hidden>Choose By Price</option> */}\n                        <option  value=\"all\">All</option>\n                        <option  value=\"200\">less then 200</option>\n                        <option  value=\"200_500\">200-500</option>\n                        <option  value=\"500_1000\">500-1000</option>\n                        \n                       \n                    </select>\n                    </div>\n              </div>\n                <div className=\"row\">\n                    {\n                        getdata.map((val,ind)=>{\n                            return(\n                                <>\n                            <CardProducts\n                        key={ind}\n                        id={val.id}\n                        name={val.name}\n                        price={val.price}\n                        plant_image={val.plant_image}\n                        />\n                                </>\n                            )\n                        })\n                    }\n                        \n                        \n                        \n                </div>\n            </div>\n        </div>\n        \n            \n        </>\n    )\n}\n\nexport default Products\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
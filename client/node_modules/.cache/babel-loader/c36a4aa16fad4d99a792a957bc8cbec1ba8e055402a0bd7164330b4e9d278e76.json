{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ragunath\\\\Downloads\\\\react-mysql-nodejs-e-commerce-master\\\\react-mysql-nodejs-e-commerce-master\\\\client\\\\src\\\\page\\\\PayNow.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from 'react';\nimport { NavLink, useParams } from 'react-router-dom';\nimport { DataContext } from '../context/DataContext';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PayNow = () => {\n  _s();\n  const {\n    pid\n  } = useParams();\n  const urll = localStorage.getItem('Ecomlongurl');\n  const dat = localStorage.getItem('EcomUserId');\n  const Ecompaymentmode = localStorage.getItem('Ecompaymentmode');\n  const [total, setTotal] = useState(\"\");\n  const {\n    cart,\n    setCart\n  } = useContext(DataContext);\n  useEffect(() => {\n    //    console.log()\n    let totamo = 0;\n    for (let i = 0; i < cart.length; i++) {\n      totamo += cart[i].price * cart[i].qty;\n    }\n    totamo += 50;\n    setTotal(totamo);\n  }, []);\n  const onPay = () => {\n    // let str = urll;\n    // const myArr = str.split(\"/\");\n    // const pyid=myArr[myArr.length-1];\n    // console.log(pyid )\n    // console.log(urll)\n    // const data={\n    //     userid:dat,\n    //     totalprice:total,\n    //     orderstatus:\"order done\",\n    //     paymentmode:Ecompaymentmode,\n    //     payId:pyid,\n    //     cart:cart\n    // }\n    // window.location.href=urll\n    // const res= await axios.post(`http://localhost:8000/paydetails`,data)\n    console.log(\"hi\");\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container p-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-info\",\n          onClick: onPay,\n          children: \"Pay Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_s(PayNow, \"16xvOCv3otAHApjrRPAp6ugeq0s=\", false, function () {\n  return [useParams];\n});\n_c = PayNow;\nexport default PayNow;\nvar _c;\n$RefreshReg$(_c, \"PayNow\");","map":{"version":3,"names":["React","useContext","useState","useEffect","NavLink","useParams","DataContext","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","PayNow","_s","pid","urll","localStorage","getItem","dat","Ecompaymentmode","total","setTotal","cart","setCart","totamo","i","length","price","qty","onPay","console","log","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Ragunath/Downloads/react-mysql-nodejs-e-commerce-master/react-mysql-nodejs-e-commerce-master/client/src/page/PayNow.jsx"],"sourcesContent":["import React,{useContext,useState, useEffect} from 'react'\nimport { NavLink, useParams } from 'react-router-dom'\nimport { DataContext } from '../context/DataContext'\nimport axios from 'axios'\nconst PayNow = () => {\n  const {pid}=  useParams()\n  const urll=localStorage.getItem('Ecomlongurl')\n  const dat=localStorage.getItem('EcomUserId')\n  const Ecompaymentmode=localStorage.getItem('Ecompaymentmode')\n  const [total, setTotal] = useState(\"\")\n  const {cart,setCart}=useContext(DataContext)\n\n  useEffect(()=>{\n    //    console.log()\n       let totamo=0;\n       for(let i=0;i<cart.length;i++)\n       {\n           totamo += cart[i].price*cart[i].qty;\n           \n       }\n       totamo +=50;\n       setTotal(totamo)\n    },[])\n\n  const onPay=()=>{\n    // let str = urll;\n    // const myArr = str.split(\"/\");\n    // const pyid=myArr[myArr.length-1];\n    // console.log(pyid )\n    // console.log(urll)\n    // const data={\n    //     userid:dat,\n    //     totalprice:total,\n    //     orderstatus:\"order done\",\n    //     paymentmode:Ecompaymentmode,\n    //     payId:pyid,\n    //     cart:cart\n    // }\n    // window.location.href=urll\n    // const res= await axios.post(`http://localhost:8000/paydetails`,data)\n     console.log(\"hi\")\n\n      \n\n  }\n    return (\n        <>\n        <div className=\"container p-5\">\n            <div className=\"text-center\">\n                {/* <NavLink to={{ pathname: urll }} target=\"_blank\" className=\"btn btn-info\">Pay Now</NavLink> */}\n                <button className=\"btn btn-info\" onClick={onPay}>Pay Now</button>\n            </div>\n        </div>\n            \n        </>\n    )\n}\n\nexport default PayNow\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAEC,UAAU,EAACC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAC1D,SAASC,OAAO,EAAEC,SAAS,QAAQ,kBAAkB;AACrD,SAASC,WAAW,QAAQ,wBAAwB;AACpD,OAAOC,KAAK,MAAM,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACzB,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAM;IAACC;EAAG,CAAC,GAAGT,SAAS,CAAC,CAAC;EACzB,MAAMU,IAAI,GAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;EAC9C,MAAMC,GAAG,GAACF,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;EAC5C,MAAME,eAAe,GAACH,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC;EAC7D,MAAM,CAACG,KAAK,EAAEC,QAAQ,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM;IAACoB,IAAI;IAACC;EAAO,CAAC,GAACtB,UAAU,CAACK,WAAW,CAAC;EAE5CH,SAAS,CAAC,MAAI;IACZ;IACG,IAAIqB,MAAM,GAAC,CAAC;IACZ,KAAI,IAAIC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACH,IAAI,CAACI,MAAM,EAACD,CAAC,EAAE,EAC7B;MACID,MAAM,IAAIF,IAAI,CAACG,CAAC,CAAC,CAACE,KAAK,GAACL,IAAI,CAACG,CAAC,CAAC,CAACG,GAAG;IAEvC;IACAJ,MAAM,IAAG,EAAE;IACXH,QAAQ,CAACG,MAAM,CAAC;EACnB,CAAC,EAAC,EAAE,CAAC;EAEP,MAAMK,KAAK,GAACA,CAAA,KAAI;IACd;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACCC,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;EAIpB,CAAC;EACC,oBACItB,OAAA,CAAAE,SAAA;IAAAqB,QAAA,eACAvB,OAAA;MAAKwB,SAAS,EAAC,eAAe;MAAAD,QAAA,eAC1BvB,OAAA;QAAKwB,SAAS,EAAC,aAAa;QAAAD,QAAA,eAExBvB,OAAA;UAAQwB,SAAS,EAAC,cAAc;UAACC,OAAO,EAAEL,KAAM;UAAAG,QAAA,EAAC;QAAO;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC,gBAEJ,CAAC;AAEX,CAAC;AAAAzB,EAAA,CApDKD,MAAM;EAAA,QACIP,SAAS;AAAA;AAAAkC,EAAA,GADnB3B,MAAM;AAsDZ,eAAeA,MAAM;AAAA,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}